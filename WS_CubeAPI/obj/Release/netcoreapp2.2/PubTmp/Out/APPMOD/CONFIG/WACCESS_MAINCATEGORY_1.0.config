IF ISNULL(@SETUPID,'')=''
SELECT DISTINCT M.MAINCATEGORYID,ET.ENTITYVALUE+CASE WHEN M.STATUS =0 THEN '( InActive )' ELSE '' END MAINCATEGORYNAME FROM MAINCATEGORIES M
INNER JOIN ENTITYTRANSLATION ET ON ET.ENTITYID=M.MAINCATEGORYID  AND ET.ENTITYTYPE = 'MAIN_CTG'
WHERE M.STATUS IN(0,1) AND ET.LANGUAGEID = (SELECT LANGUAGEID FROM USERINFO WHERE USERID = @USERID)
AND M.MAINCATEGORYID<>0
ORDER BY MAINCATEGORYNAME
ELSE
SELECT DISTINCT M.MAINCATEGORYID,ET.ENTITYVALUE+CASE WHEN M.STATUS =0 THEN '( InActive )' ELSE '' END MAINCATEGORYNAME FROM CHECKLISTSETUPCATEGORYASSIGNMENTS CSC
INNER JOIN MAINCATEGORIES M ON M.MAINCATEGORYID=CSC.MAINCATEGORYID
INNER JOIN ENTITYTRANSLATION ET ON ET.ENTITYID=M.MAINCATEGORYID  AND ET.ENTITYTYPE = 'MAIN_CTG'
WHERE CSC.STATUS= 1 AND M.STATUS IN(0,1) AND ET.LANGUAGEID = (SELECT LANGUAGEID FROM USERINFO WHERE USERID = @USERID)
AND CSC.CHECKLISTSETUPID IN (SELECT RESULT FROM dbo.CSVtoTable(@SETUPID))
AND M.MAINCATEGORYID<>0
ORDER BY MAINCATEGORYNAME