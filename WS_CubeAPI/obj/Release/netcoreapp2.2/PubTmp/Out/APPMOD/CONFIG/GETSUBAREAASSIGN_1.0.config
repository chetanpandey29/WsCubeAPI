SELECT '<option value="'+CAST(SA.SUBAREAID AS VARCHAR(32))+'">'+SA.SUBAREANAME+'</option>' AS 'data()' FROM SUBAREAS SA
WHERE SA.STATUS =1 
AND NOT EXISTS(SELECT 1 FROM SUBAREASMAP WHERE SUBAREAID=SA.SUBAREAID AND AREAID=@AREAID AND STATUS=1)
ORDER BY SA.SUBAREANAME FOR XML PATH('');


SELECT '<option value="'+CAST(SA.SUBAREAID AS VARCHAR(32))+'">'+SA.SUBAREANAME+CASE WHEN SA.STATUS=0 THEN '(In Active)' ELSE '' END +'</option>' AS 'data()' 
FROM SUBAREAS SA
INNER JOIN SUBAREASMAP SM ON SM.SUBAREAID=SA.SUBAREAID
WHERE SA.STATUS !=2 AND SM.STATUS=1 AND SM.AREAID=@AREAID ORDER BY SA.SUBAREANAME FOR XML PATH('') ;
