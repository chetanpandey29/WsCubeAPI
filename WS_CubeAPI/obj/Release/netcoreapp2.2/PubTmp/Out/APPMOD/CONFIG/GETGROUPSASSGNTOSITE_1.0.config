--GETGROUPSASSGNTOSITE_1.0
SELECT '<option value="'+CAST(G.GROUPID AS VARCHAR(32))+'">'+CASE WHEN G.STATUS = 1 THEN ENTITYVALUE WHEN G.STATUS = 0 THEN ENTITYVALUE + ' ( InActive ) '  END+'</option>' AS 'data()'
FROM GROUPS G
INNER JOIN ENTITYTRANSLATION ET ON ET.ENTITYID=G.GROUPID AND ET.LANGUAGEID=@LANGUAGEID AND ENTITYTYPE='UGP_TYPE'
INNER JOIN SITEGROUPS SG ON SG.GROUPID = G.GROUPID
WHERE SG.GROUPTYPEID = @GROUPTYPEID AND SG.SITEID = @SITEID AND G.STATUS <> 2 AND SG.STATUS = 1
ORDER BY ENTITYVALUE
FOR XML PATH('')